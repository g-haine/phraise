---
layout: base
---

<div class="home">
  {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}

  {{ content }}

  <h2 class="post-list-heading">Publications</h2>

  {%- comment -%} Choisir la collection (paginée ou complète) {%- endcomment -%}
  {%- if site.paginate -%}
    {%- assign collection = paginator.posts -%}
  {%- else -%}
    {%- assign collection = site.posts -%}
  {%- endif -%}

  {%- if collection and collection.size > 0 -%}
    {%- assign years = collection | group_by: 'year' -%}
    {%- assign yearsSorted = years | sort: 'name' | reverse -%}

    <ul class="post-list">
      {%- for y in yearsSorted -%}
        <h3><i class="fa-solid fa-arrow-right" alt="Right arrow"></i> <strong>In {{ y.name }}</strong> ({{ y.items | size }} items)</h3>
        {%- assign posts_in_year = y.items | sort: 'date' | reverse -%}
        {%- for post in posts_in_year -%}
          <li>
            <span class="post-meta">{{ y.name }} -- {{ post.authors }}</span>
            <h3>
              <a class="post-link" href="{{ post.url | relative_url }}">
                {{ post.title | escape }}
              </a>
            </h3>
            {%- if site.minima.show_excerpts -%}
              {{ post.excerpt }}
            {%- endif -%}
          </li>
        {%- endfor -%}
        <hr />
      {%- endfor -%}
    </ul>

    {%- if site.paginate -%}
      <div class="pager">
        <ul class="pagination">
          {%- if paginator.previous_page -%}
            <li><a href="{{ paginator.previous_page_path | relative_url }}" class="previous-page">{{ paginator.previous_page }}</a></li>
          {%- else -%}
            <li><div class="pager-edge">•</div></li>
          {%- endif -%}
          <li><div class="current-page">{{ paginator.page }}</div></li>
          {%- if paginator.next_page -%}
            <li><a href="{{ paginator.next_page_path | relative_url }}" class="next-page">{{ paginator.next_page }}</a></li>
          {%- else -%}
            <li><div class="pager-edge">•</div></li>
          {%- endif -%}
        </ul>
      </div>
    {%- endif -%}
  {%- endif -%}
</div>

